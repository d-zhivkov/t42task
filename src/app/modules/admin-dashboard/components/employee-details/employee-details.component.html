<div *ngIf="projects$ | async as projects" class="container">
    <h2 class="mt-3">{{employeeId ? 'Update employee' : 'Add employee'}}</h2>
    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <mat-form-field class="col-12">
                <mat-label>First name</mat-label>
                <input matInput formControlName="firstName">
            </mat-form-field>
            <div *ngIf="employeeForm.controls.firstName.invalid && (employeeForm.controls.firstName.dirty || employeeForm.controls.firstName.touched)" class="text-danger">
                First name is required.
            </div>
        </div>
        <div class="form-group">
            <mat-form-field class="col-12">
                <mat-label>Last name</mat-label>
                <input matInput formControlName="lastName">
            </mat-form-field>
            <div *ngIf="employeeForm.controls.lastName.invalid && (employeeForm.controls.lastName.dirty || employeeForm.controls.lastName.touched)" class="text-danger">
                Last name is required.
            </div>
        </div>
        <div class="form-group">
            <mat-form-field appearance="fill" class="col-12">
                <mat-label>Projects</mat-label>
                <mat-select formControlName="workingOn" multiple>
                  <mat-option *ngFor="let project of projects" [value]="project.id">{{project.name}}</mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-success">Submit</button>
        </div>
    </form>
</div>